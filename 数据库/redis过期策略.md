[toc]
## 简介 ##
- [https://blog.csdn.net/qq_40369829/article/details/79824618](https://blog.csdn.net/qq_40369829/article/details/79824618)

## redis内存空间 ##
### 键空间 ###
- dict字典保存数据库所有键值对。
- 键：字符串对象。
- 值：5中对象中的一种。	

### 过期字典 ###
- expires字典保存所有键的过期时间。
- 键：数据的键。
- 值：毫秒级Unix时间戳。

## key过期策略 ##
- 定期删除+惰性删除+内存淘汰。

### 定期删除 ###
- 默认每隔100ms从expires字典中**随机取**key，检查过期，如果过期则删除。

### 惰性删除 ###
- 执行命令时如果该key设置了过期时间，检查过期，如果过期则删除，返回空。

### 内存淘汰 ###
- 内存不足以容纳新写入的数据时，删除某些数据。
  - 6种算法，常用算法allkeys-lru,移除键空间中最近最少使用key。